I used the provided generator for my input.
This is the output it produced.
MAX_QUEUE_LENGTH == 5. Nothing in printed when filling queue, so printed notes
on behavior during output sandwich the emptying process.
Queue is obviously filled by producer before consumers take over.


Queue is at max length. Signaling consumers to take over.
red 0
                blue 0
red 1
        green 1
red 2
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
        green 2
red 3
        green 3
                blue 3
red 5
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
        green 5
                blue 5
                blue 6
red 7
        green 8
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 9
                blue 10
red 11
                blue 12
red 13
Queue is empty again. Producer is resuming.
        green 13
Queue is at max length. Signaling consumers to take over.
                blue 15
red 17
                blue 18
red 19
                blue 20
Queue is empty again. Producer is resuming.
        green 21
                blue 21
Queue is at max length. Signaling consumers to take over.
red 23
                blue 24
                blue 25
                blue 27
red 29
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 30
red 31
                blue 33
        green 34
                blue 35
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 36
red 37
                blue 39
                blue 40
red 41
Queue is empty again. Producer is resuming.
                blue 42
Queue is at max length. Signaling consumers to take over.
red 43
                blue 45
red 47
                blue 48
                blue 50
Queue is empty again. Producer is resuming.
                blue 51
Queue is at max length. Signaling consumers to take over.
red 53
                blue 54
        green 55
                blue 55
                blue 57
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 59
                blue 60
red 61
                blue 63
                blue 65
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 66
red 67
                blue 69
                blue 70
red 71
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 72
red 73
                blue 75
                blue 78
red 79
Queue is empty again. Producer is resuming.
                blue 80
                blue 81
red 83
                blue 84
Queue is at max length. Signaling consumers to take over.
                blue 85
                blue 87
red 89
        green 89
                blue 90
Queue is empty again. Producer is resuming.
                blue 93
                blue 95
                blue 96
Queue is at max length. Signaling consumers to take over.
red 97
                blue 99
                blue 100
red 101
                blue 102
Queue is empty again. Producer is resuming.
red 103
                blue 105
red 107
                blue 108
red 109
                blue 110
Queue is at max length. Signaling consumers to take over.
                blue 111
red 113
                blue 114
                blue 115
                blue 117
Queue is empty again. Producer is resuming.
                blue 120
                blue 123
                blue 125
                blue 126
red 127
                blue 129
                blue 130
red 131
                blue 132
Queue is at max length. Signaling consumers to take over.
                blue 135
red 137
                blue 138
red 139
                blue 140
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 141
        green 144
                blue 144
                blue 145
                blue 147
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 149
                blue 150
red 151
                blue 153
                blue 155
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 156
red 157
                blue 159
                blue 160
                blue 162
Queue is empty again. Producer is resuming.
red 163
Queue is at max length. Signaling consumers to take over.
                blue 165
red 167
                blue 168
                blue 170
                blue 171
Queue is empty again. Producer is resuming.
red 173
Queue is at max length. Signaling consumers to take over.
                blue 174
                blue 175
                blue 177
red 179
                blue 180
Queue is empty again. Producer is resuming.
red 181
                blue 183
                blue 185
                blue 186
                blue 189
                blue 190
red 191
Queue is at max length. Signaling consumers to take over.
                blue 192
red 193
                blue 195
red 197
                blue 198
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 199
                blue 200
                blue 201
                blue 204
                blue 205
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 207
                blue 210
red 211
                blue 213
                blue 215
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 216
                blue 219
                blue 220
                blue 222
red 223
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 225
red 227
                blue 228
red 229
                blue 230
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 231
red 233
        green 233
                blue 234
                blue 235
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 237
red 239
                blue 240
red 241
                blue 243
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 245
                blue 246
                blue 249
                blue 250
red 251
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 252
                blue 255
red 257
                blue 258
                blue 260
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 261
red 263
                blue 264
                blue 265
                blue 267
Queue is empty again. Producer is resuming.
red 269
Queue is at max length. Signaling consumers to take over.
                blue 270
red 271
                blue 273
                blue 275
                blue 276
Queue is empty again. Producer is resuming.
red 277
                blue 279
                blue 280
red 281
                blue 282
Queue is at max length. Signaling consumers to take over.
red 283
                blue 285
                blue 288
                blue 290
                blue 291
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 293
                blue 294
                blue 295
                blue 297
                blue 300
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 303
                blue 305
                blue 306
red 307
                blue 309
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 310
red 311
                blue 312
red 313
                blue 315
Queue is empty again. Producer is resuming.
red 317
Queue is at max length. Signaling consumers to take over.
                blue 318
                blue 320
                blue 321
                blue 324
                blue 325
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 327
                blue 330
red 331
                blue 333
                blue 335
Queue is empty again. Producer is resuming.
                blue 336
red 337
Queue is at max length. Signaling consumers to take over.
                blue 339
                blue 340
                blue 342
                blue 345
red 347
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 348
red 349
                blue 350
                blue 351
red 353
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 354
                blue 355
                blue 357
red 359
                blue 360
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 363
                blue 365
                blue 366
red 367
                blue 369
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 370
                blue 372
red 373
                blue 375
        green 377
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 378
red 379
                blue 380
                blue 381
red 383
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 384
                blue 385
                blue 387
red 389
                blue 390
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 393
                blue 395
                blue 396
red 397
                blue 399
Queue is empty again. Producer is resuming.
                blue 400
Queue is at max length. Signaling consumers to take over.
red 401
                blue 402
                blue 405
                blue 408
red 409
Queue is empty again. Producer is resuming.
                blue 410
                blue 411
Queue is at max length. Signaling consumers to take over.
                blue 414
                blue 415
                blue 417
red 419
                blue 420
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 421
                blue 423
                blue 425
                blue 426
                blue 429
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 430
red 431
                blue 432
red 433
                blue 435
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 438
red 439
                blue 440
                blue 441
red 443
Queue is empty again. Producer is resuming.
                blue 444
                blue 445
                blue 447
Queue is at max length. Signaling consumers to take over.
red 449
                blue 450
                blue 453
                blue 455
                blue 456
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 457
                blue 459
                blue 460
red 461
                blue 462
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 463
                blue 465
red 467
                blue 468
                blue 470
Queue is empty again. Producer is resuming.
                blue 471
                blue 474
                blue 475
Queue is at max length. Signaling consumers to take over.
                blue 477
red 479
                blue 480
                blue 483
                blue 485
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 486
red 487
                blue 489
                blue 490
red 491
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 492
                blue 495
                blue 498
red 499
                blue 500
Queue is empty again. Producer is resuming.
                blue 501
Queue is at max length. Signaling consumers to take over.
red 503
                blue 504
                blue 505
                blue 507
red 509
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 510
                blue 513
                blue 515
                blue 516
                blue 519
Queue is empty again. Producer is resuming.
                blue 520
Queue is at max length. Signaling consumers to take over.
red 521
                blue 522
red 523
                blue 525
                blue 528
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 530
                blue 531
                blue 534
                blue 535
                blue 537
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 540
red 541
                blue 543
                blue 545
                blue 546
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 547
                blue 549
                blue 550
                blue 552
                blue 555
Queue is empty again. Producer is resuming.
red 557
Queue is at max length. Signaling consumers to take over.
                blue 558
                blue 560
                blue 561
red 563
                blue 564
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 565
                blue 567
red 569
                blue 570
red 571
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 573
                blue 575
                blue 576
red 577
                blue 579
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 580
                blue 582
                blue 585
red 587
                blue 588
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 590
                blue 591
red 593
                blue 594
                blue 595
Queue is empty again. Producer is resuming.
                blue 597
Queue is at max length. Signaling consumers to take over.
red 599
                blue 600
red 601
                blue 603
                blue 605
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 606
red 607
                blue 609
        green 610
                blue 610
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 612
red 613
                blue 615
red 617
                blue 618
Queue is empty again. Producer is resuming.
red 619
Queue is at max length. Signaling consumers to take over.
                blue 620
                blue 621
                blue 624
                blue 625
                blue 627
Queue is empty again. Producer is resuming.
                blue 630
Queue is at max length. Signaling consumers to take over.
red 631
                blue 633
                blue 635
                blue 636
                blue 639
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 640
red 641
                blue 642
red 643
                blue 645
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 647
                blue 648
                blue 650
                blue 651
red 653
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 654
                blue 655
                blue 657
red 659
                blue 660
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 661
                blue 663
                blue 665
                blue 666
                blue 669
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 670
                blue 672
red 673
                blue 675
red 677
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 678
                blue 680
                blue 681
red 683
                blue 684
Queue is empty again. Producer is resuming.
                blue 685
Queue is at max length. Signaling consumers to take over.
                blue 687
                blue 690
red 691
                blue 693
                blue 695
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 696
                blue 699
                blue 700
red 701
                blue 702
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 705
                blue 708
red 709
                blue 710
                blue 711
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 714
                blue 715
                blue 717
red 719
                blue 720
Queue is empty again. Producer is resuming.
                blue 723
                blue 725
                blue 726
Queue is at max length. Signaling consumers to take over.
red 727
                blue 729
                blue 730
                blue 732
red 733
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 735
                blue 738
red 739
                blue 740
                blue 741
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 743
                blue 744
                blue 745
                blue 747
                blue 750
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 751
                blue 753
                blue 755
                blue 756
red 757
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 759
                blue 760
red 761
                blue 762
                blue 765
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 768
red 769
                blue 770
                blue 771
red 773
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 774
                blue 775
                blue 777
                blue 780
                blue 783
Queue is empty again. Producer is resuming.
                blue 785
                blue 786
Queue is at max length. Signaling consumers to take over.
red 787
                blue 789
                blue 790
                blue 792
                blue 795
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 797
                blue 798
                blue 800
                blue 801
                blue 804
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 805
                blue 807
red 809
                blue 810
red 811
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 813
                blue 815
                blue 816
                blue 819
                blue 820
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 821
                blue 822
red 823
                blue 825
red 827
Queue is empty again. Producer is resuming.
                blue 828
red 829
                blue 830
                blue 831
                blue 834
Queue is at max length. Signaling consumers to take over.
                blue 835
                blue 837
red 839
                blue 840
                blue 843
Queue is empty again. Producer is resuming.
                blue 845
                blue 846
Queue is at max length. Signaling consumers to take over.
                blue 849
                blue 850
                blue 852
red 853
                blue 855
Queue is empty again. Producer is resuming.
red 857
Queue is at max length. Signaling consumers to take over.
                blue 858
red 859
                blue 860
                blue 861
red 863
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 864
                blue 865
                blue 867
                blue 870
                blue 873
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 875
                blue 876
red 877
                blue 879
                blue 880
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
red 881
                blue 882
red 883
                blue 885
red 887
Queue is empty again. Producer is resuming.
                blue 888
                blue 890
                blue 891
                blue 894
                blue 895
                blue 897
                blue 900
                blue 903
                blue 905
                blue 906
Queue is at max length. Signaling consumers to take over.
red 907
                blue 909
                blue 910
red 911
                blue 912
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 915
                blue 918
red 919
                blue 920
                blue 921
Queue is empty again. Producer is resuming.
                blue 924
                blue 925
Queue is at max length. Signaling consumers to take over.
                blue 927
red 929
                blue 930
                blue 933
                blue 935
Queue is empty again. Producer is resuming.
                blue 936
Queue is at max length. Signaling consumers to take over.
red 937
                blue 939
                blue 940
red 941
                blue 942
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 945
red 947
                blue 948
                blue 950
                blue 951
Queue is empty again. Producer is resuming.
red 953
                blue 954
                blue 955
                blue 957
                blue 960
                blue 963
                blue 965
                blue 966
Queue is at max length. Signaling consumers to take over.
red 967
                blue 969
                blue 970
red 971
                blue 972
Queue is empty again. Producer is resuming.
                blue 975
red 977
Queue is at max length. Signaling consumers to take over.
                blue 978
                blue 980
                blue 981
red 983
                blue 984
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 985
        green 987
                blue 987
                blue 990
red 991
Queue is empty again. Producer is resuming.
Queue is at max length. Signaling consumers to take over.
                blue 993
                blue 995
                blue 996
red 997
                blue 999
Queue is empty again. Producer is resuming.
                blue 1000
                blue 10
